"use strict";(self.webpackChunktbia_documentation=self.webpackChunktbia_documentation||[]).push([[5964],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return h}});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=a.createContext({}),l=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},s=function(e){var t=l(e.components);return a.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),m=l(n),h=i,u=m["".concat(p,".").concat(h)]||m[h]||d[h]||r;return n?a.createElement(u,o(o({ref:t},s),{},{components:n})):a.createElement(u,o({ref:t},s))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=m;var c={};for(var p in t)hasOwnProperty.call(t,p)&&(c[p]=t[p]);c.originalType=e,c.mdxType="string"==typeof e?e:i,o[1]=c;for(var l=2;l<r;l++)o[l]=n[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},4887:function(e,t,n){n.d(t,{UE:function(){return o},V3:function(){return l},h8:function(){return i},qh:function(){return p},y$:function(){return r}});n(87462),n(63366),n(67294);var a=n(3905),i=function(e){e.children;var t=e.text;return(0,a.kt)("span",{style:{backgroundColor:"#822",color:"#faa",border:"1px #faa solid",borderRadius:"5rem",padding:".2rem .4rem",fontSize:".6rem"}},t)},r=function(e){var t=e.children;return(0,a.kt)("span",{style:{color:"#faa"}},t)};function o(e){e.children;var t=e.version,n="#ffffff";return(0,a.kt)("span",{style:{backgroundColor:"#414141",color:n,border:"1px #ffffff solid",borderRadius:"5px",padding:".05rem .4rem",fontSize:".75rem"}},t)}function c(e,t,n,i){return(0,a.kt)("div",{style:{backgroundColor:i,color:n,border:"1px "+n+" solid",borderRadius:"5px",padding:".1rem .4rem"}},t)}var p=function(e){e.children;return c(0,"Released","#afa","#181")},l=function(e){e.children;return c(0,"Planned","#aff","#288")}},49230:function(e,t,n){n.r(t),n.d(t,{assets:function(){return d},contentTitle:function(){return l},default:function(){return u},frontMatter:function(){return p},metadata:function(){return s},toc:function(){return m}});var a=n(87462),i=n(63366),r=(n(67294),n(3905)),o=n(4887),c=["components"],p={sidebar_position:6,title:"Using Object Interaction Tag"},l=void 0,s={unversionedId:"quick-start/using-object-tag",id:"version-1.1.0/quick-start/using-object-tag",title:"Using Object Interaction Tag",description:"Creating the Object Interaction Tag Ability",source:"@site/versioned_docs/version-1.1.0/quick-start/using-object-tag.mdx",sourceDirName:"quick-start",slug:"/quick-start/using-object-tag",permalink:"/TBIA-Documentation/docs/quick-start/using-object-tag",draft:!1,editUrl:"https://github.com/twistedbytes-net/TBIA-Documentation/edit/master/versioned_docs/version-1.1.0/quick-start/using-object-tag.mdx",tags:[],version:"1.1.0",sidebarPosition:6,frontMatter:{sidebar_position:6,title:"Using Object Interaction Tag"},sidebar:"tutorialSidebar",previous:{title:"Using Object Interaction Timed",permalink:"/TBIA-Documentation/docs/quick-start/using-object-timed"},next:{title:"Using Triggered Interaction Cosmetic",permalink:"/TBIA-Documentation/docs/quick-start/using-triggered-cosmetic"}},d={},m=[{value:"Creating the Object Interaction Tag Ability",id:"creating-the-object-interaction-tag-ability",level:2},{value:"Creating the Interactable Actor",id:"creating-the-interactable-actor",level:2},{value:"Setting up the Interactable Actor",id:"setting-up-the-interactable-actor",level:2},{value:"Testing the Interactable Actor",id:"testing-the-interactable-actor",level:2}],h={toc:m};function u(e){var t=e.components,p=(0,i.Z)(e,c);return(0,r.kt)("wrapper",(0,a.Z)({},h,p,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"creating-the-object-interaction-tag-ability"},"Creating the Object Interaction Tag Ability"),(0,r.kt)("p",null,"To create an ",(0,r.kt)("em",{parentName:"p"},"Object Interaction Tag")," ability, right-click in the ",(0,r.kt)("em",{parentName:"p"},"Content Browser"),"\nand select ",(0,r.kt)("inlineCode",{parentName:"p"},"TwistedBytes | Abilities | Object Interaction Tag")," ",(0,r.kt)(o.h8,{text:"1",mdxType:"Step"})," as shown in the image below."),(0,r.kt)("p",null,"Name the newly created asset ",(0,r.kt)("inlineCode",{parentName:"p"},"ObjectInteractionTag"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Create Object Interaction Tag Ability",src:n(68386).Z,width:"1920",height:"1040"})),(0,r.kt)("h2",{id:"creating-the-interactable-actor"},"Creating the Interactable Actor"),(0,r.kt)("p",null,"For an easier implementation, we are going to duplicate the ",(0,r.kt)("inlineCode",{parentName:"p"},"GASActorBase_Timed")," that we created earlier\n",(0,r.kt)("a",{parentName:"p",href:"/docs/quick-start/using-object-timed"},"here")," to make use of what we setup before."),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"We are going to create a door that opens when a ",(0,r.kt)("em",{parentName:"p"},"Player Character")," overlaps with a box collision that we will add in\nthe next steps."))),(0,r.kt)("p",null,"To do that, navigate to ",(0,r.kt)("inlineCode",{parentName:"p"},"GASActorBase_Timed")," ",(0,r.kt)(o.h8,{text:"1",mdxType:"Step"})," and right-click then click on\n",(0,r.kt)("em",{parentName:"p"},"Duplicate")," ",(0,r.kt)(o.h8,{text:"2",mdxType:"Step"}),"."),(0,r.kt)("p",null,"Name this newly created asset ",(0,r.kt)("inlineCode",{parentName:"p"},"GASActorBase_Tag"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Create GASActorBase_Tag",src:n(51104).Z,width:"600",height:"600"})),(0,r.kt)("h2",{id:"setting-up-the-interactable-actor"},"Setting up the Interactable Actor"),(0,r.kt)("p",null,"Open ",(0,r.kt)("inlineCode",{parentName:"p"},"GASActorBase_Tag")," and delete the static meshes ",(0,r.kt)(o.h8,{text:"1",mdxType:"Step"})," that we added before in ",(0,r.kt)("inlineCode",{parentName:"p"},"GASActorBase_Timed"),"\nwhich were serving as buttons for the ",(0,r.kt)("em",{parentName:"p"},"Door"),"."),(0,r.kt)("p",null,"Then click on ",(0,r.kt)("em",{parentName:"p"},"Add Component"),", add a ",(0,r.kt)("em",{parentName:"p"},"Box Collision")," component ",(0,r.kt)(o.h8,{text:"2",mdxType:"Step"})," and name it ",(0,r.kt)("inlineCode",{parentName:"p"},"Box"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Setup GASActorBase_Tag Components",src:n(23186).Z,width:"500",height:"343"})),(0,r.kt)("p",null,"Now we need to grant the ",(0,r.kt)("inlineCode",{parentName:"p"},"ObjectInteractionTag")," ",(0,r.kt)("em",{parentName:"p"},"Gameplay Ability")," to this actor. We can do this by clicking on\n",(0,r.kt)("inlineCode",{parentName:"p"},"TBIA Interaction Component")," ",(0,r.kt)(o.h8,{text:"1",mdxType:"Step"}),". Then navigate to ",(0,r.kt)("em",{parentName:"p"},"Details")," panel and under\n",(0,r.kt)("inlineCode",{parentName:"p"},"TwistedBytes | Interaction | Config")," add ",(0,r.kt)("inlineCode",{parentName:"p"},"ObjectInteractionTag")," ",(0,r.kt)(o.h8,{text:"2",mdxType:"Step"})," to the array\nnamed ",(0,r.kt)("em",{parentName:"p"},"Grant Abilities on Start"),"."),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"We can use the default settings of ",(0,r.kt)("inlineCode",{parentName:"p"},"ObjectInteractionTag")," ",(0,r.kt)("em",{parentName:"p"},"Gameplay Ability")," so there is no need to modify it.\nThe setup is the same as we did in ",(0,r.kt)("a",{parentName:"p",href:"/docs/quick-start/using-object-timed"},"Using Object Interaction Timed"),"."))),(0,r.kt)("p",null,"Then you can scale the ",(0,r.kt)("inlineCode",{parentName:"p"},"Box")," ",(0,r.kt)(o.h8,{text:"3",mdxType:"Step"})," and place it to let the character easily overlap with it at the front\nand back side of the door mesh."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Granting Ability To GASActorBase_Tag",src:n(36252).Z,width:"1928",height:"1048"})),(0,r.kt)("p",null,"In the ",(0,r.kt)("em",{parentName:"p"},"Components")," panel, right-click on the ",(0,r.kt)("inlineCode",{parentName:"p"},"Box")," component ",(0,r.kt)(o.h8,{text:"1",mdxType:"Step"})," and select ",(0,r.kt)("em",{parentName:"p"},"Add Event")," ",(0,r.kt)(o.h8,{text:"2",mdxType:"Step"}),".\nThen, select ",(0,r.kt)("inlineCode",{parentName:"p"},"OnComponentBeginOverlap")," ",(0,r.kt)(o.h8,{text:"3",mdxType:"Step"})," and ",(0,r.kt)("inlineCode",{parentName:"p"},"OnComponentEndOverlap")," ",(0,r.kt)(o.h8,{text:"4",mdxType:"Step"})," to add these event\nhandlers to the ",(0,r.kt)("em",{parentName:"p"},"Event Graph"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Setup GASActorBase_Tag",src:n(99202).Z,width:"574",height:"590"})),(0,r.kt)("p",null,"First on execution of ",(0,r.kt)("inlineCode",{parentName:"p"},"OnComponentBeginOverlap")," we need to cast the ",(0,r.kt)("inlineCode",{parentName:"p"},"Other Actor")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"Character")," to make sure that the\nactor that overlapped with the ",(0,r.kt)("inlineCode",{parentName:"p"},"Box")," is a valid instance of a ",(0,r.kt)("inlineCode",{parentName:"p"},"Character"),"."),(0,r.kt)("p",null,"If the cast is successful we then want to call a function named ",(0,r.kt)("inlineCode",{parentName:"p"},"Send Gameplay Event to Interacting Actor"),".\nWe pass to this function the following arguments:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Interacted Actor"),": ",(0,r.kt)("em",{parentName:"li"},"Blueprint")," ",(0,r.kt)("inlineCode",{parentName:"li"},"Self")," reference"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Interacted Component"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"Skeletal Mesh")," (this is the Door Skeletal Mesh)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Event Tag"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"TBIA.Object.Interaction.Tag")," ",(0,r.kt)(o.h8,{text:"1",mdxType:"Step"}))),(0,r.kt)("p",null,"Lastly, we pass the ",(0,r.kt)("inlineCode",{parentName:"p"},"Character")," reference from the previous cast-function as ",(0,r.kt)("inlineCode",{parentName:"p"},"Interacting Actor")," argument."),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"This function will activate the ability ",(0,r.kt)("inlineCode",{parentName:"p"},"ObjectInteractionTag")," which has the ",(0,r.kt)("em",{parentName:"p"},"Gameplay Tag"),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"TBIA.Object.Interaction.Tag")," and it will play the montage specified in the ",(0,r.kt)("inlineCode",{parentName:"p"},"Interaction Context")," on the\n",(0,r.kt)("em",{parentName:"p"},"Skeletal Mesh")," that is passed as ",(0,r.kt)("inlineCode",{parentName:"p"},"Interacted Component"),"."),(0,r.kt)("p",{parentName:"div"},"The activated ability will have a reference to a ",(0,r.kt)("em",{parentName:"p"},"Gameplay Effect")," which the ability will wait for to be applied\nin order cancel itself."))),(0,r.kt)("p",null,"What is still left to do is to make the door close again when the ",(0,r.kt)("inlineCode",{parentName:"p"},"Character")," exits the collision box."),(0,r.kt)("p",null,"On execution of ",(0,r.kt)("inlineCode",{parentName:"p"},"OnComponentEndOverlap")," we cast ",(0,r.kt)("inlineCode",{parentName:"p"},"OtherActor")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"Character")," to check if the actor which ended this\noverlap is actually a valid instance of a ",(0,r.kt)("inlineCode",{parentName:"p"},"Character"),"."),(0,r.kt)("p",null,"If true, we use the ",(0,r.kt)("inlineCode",{parentName:"p"},"Switch Has Authority")," ",(0,r.kt)("em",{parentName:"p"},"Macro")," to make sure this code is only run on the server."),(0,r.kt)("p",null,"So, on ",(0,r.kt)("inlineCode",{parentName:"p"},"Authority"),", we call ",(0,r.kt)("inlineCode",{parentName:"p"},"ApplyGameplayEffectToSelf")," function and pass ",(0,r.kt)("inlineCode",{parentName:"p"},"AbilitySystemComponent")," from ",(0,r.kt)("em",{parentName:"p"},"Blueprint"),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"Self")," reference to the ",(0,r.kt)("inlineCode",{parentName:"p"},"Target")," argument."),(0,r.kt)("p",null,"Then in we pass the class ",(0,r.kt)("inlineCode",{parentName:"p"},"TBIA_GEStateInteractingEnd")," as argument for ",(0,r.kt)("inlineCode",{parentName:"p"},"Gameplay Effect Class")," ",(0,r.kt)(o.h8,{text:"2",mdxType:"Step"}),"\nthat you can find in the plugin content ",(0,r.kt)("inlineCode",{parentName:"p"},"TwistedBytes_InteractionSystem Content/GAS/Interaction/GamePlayEffect"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Setup GASActorBase_Tag",src:n(11767).Z,width:"1159",height:"715"})),(0,r.kt)("h2",{id:"testing-the-interactable-actor"},"Testing the Interactable Actor"),(0,r.kt)("p",null,"Press play and walk up to the door actor. The moment you overlap with the *Box Collision` component, the interaction\nwill be triggered and result in opening the door."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Test GASActorBase_Tag",src:n(4287).Z,width:"1535",height:"926"})))}u.isMDXComponent=!0},68386:function(e,t,n){t.Z=n.p+"assets/images/01_create_object_tag-edaa0e8ab07ec960cf0d7203377131d4.png"},51104:function(e,t,n){t.Z=n.p+"assets/images/02_Duplicate_door-35715ec71d5f15d6566d90af7cd614d1.png"},23186:function(e,t,n){t.Z=n.p+"assets/images/03_setup_actor_components-7a6556089874b0710d7e2d07a03bb4c4.png"},36252:function(e,t,n){t.Z=n.p+"assets/images/04_grant_ability-e4b7030db7a61445017f9f3670848025.png"},99202:function(e,t,n){t.Z=n.p+"assets/images/05a_setup_actor-e2d103b5f588901eebe1107a5d03d969.png"},11767:function(e,t,n){t.Z=n.p+"assets/images/05b_setup_actor-ac1eaff1581556694aed36e0857dcdd8.png"},4287:function(e,t,n){t.Z=n.p+"assets/images/06_press_play-2dc7bd598f2ad74720308a1039bbb6bf.png"}}]);